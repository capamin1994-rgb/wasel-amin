<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>تسجيل حساب جديد</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --sat: env(safe-area-inset-top);
            --sab: env(safe-area-inset-bottom);
            --sal: env(safe-area-inset-left);
            --sar: env(safe-area-inset-right);
        }

        body.auth-container {
            padding-left: var(--sal);
            padding-right: var(--sar);
            padding-bottom: var(--sab);
        }
    </style>
</head>

<body class="auth-container">
    <a href="/" class="btn-back-home" title="عودة للرئيسية"><i class="fas fa-times"></i></a>

        <div class="card-auth" style="max-width: 550px;">
            <div class="text-center mb-4">
                <a href="/" class="logo" style="justify-content: center; margin-bottom: 20px;">
                    <i class="fab fa-whatsapp"></i> واصل
                </a>
                <h2>إنشاء حساب جديد</h2>
                <p style="color: var(--text-muted);">ابدأ اليوم، مجاناً وبدون أي تعقيدات</p>
            </div>

            <% if (locals.error) { %>
                <div
                    style="background: rgba(255, 0, 0, 0.1); color: #d32f2f; padding: 12px; border-radius: 8px; margin-bottom: 20px; text-align: center; border: 1px solid rgba(255, 0, 0, 0.2);">
                    <i class="fas fa-exclamation-circle"></i>
                    <%= error %>
                </div>
                <% } %>

                    <form action="/register" method="POST">
                        <input type="hidden" name="planId" value="<%= planId %>">

                        <div class="form-group">
                            <label class="form-label">الاسم الكامل</label>
                            <input type="text" name="name" required class="form-control" placeholder="اسمك الكريم">
                        </div>

                        <div class="form-group">
                            <label class="form-label">رقم الواتساب</label>
                            <input type="tel" name="phone" placeholder="010xxxxxxxxx" required class="form-control">
                            <div style="margin-top: 10px;">
                                <label
                                    style="font-size: 0.9rem; color: var(--text-muted); cursor: pointer; display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" name="isWhatsapp" checked
                                        style="accent-color: var(--primary);">
                                    هذا الرقم عليه واتساب
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">البريد الإلكتروني</label>
                            <input type="email" name="email" required class="form-control"
                                placeholder="example@mail.com">
                        </div>

                        <div class="form-group">
                            <label class="form-label">كلمة المرور</label>
                            <input type="password" name="password" required class="form-control" placeholder="••••••••">
                        </div>

                        <button type="submit" class="btn" style="width: 100%;">تسجيل وبدء الباقة</button>
                    </form>

                    <div class="text-center" style="margin-top: 25px;">
                        <p style="color: var(--text-muted);">لديك حساب بالفعل؟ <a href="/login" class="text-primary"
                                style="font-weight: bold;">تسجيل الدخول</a></p>
                    </div>
        </div>

        <script>
            // Check local storage or system preference to apply theme
            const currentTheme = localStorage.getItem('theme');
            if (currentTheme) {
                document.documentElement.setAttribute('data-theme', currentTheme);
            }
        </script>
    </body>

</html>