<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>تسجيل الدخول</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --sat: env(safe-area-inset-top);
            --sab: env(safe-area-inset-bottom);
            --sal: env(safe-area-inset-left);
            --sar: env(safe-area-inset-right);
        }

        body.auth-container {
            padding-left: var(--sal);
            padding-right: var(--sar);
            padding-bottom: var(--sab);
        }
    </style>
</head>

<body class="auth-container">
    <a href="/" class="btn-back-home" title="عودة للرئيسية"><i class="fas fa-times"></i></a>

        <div class="card-auth">
            <div class="text-center mb-4">
                <a href="/" class="logo" style="justify-content: center; margin-bottom: 20px;">
                    <i class="fab fa-whatsapp"></i> واصل
                </a>
                <h2>تسجيل الدخول</h2>
                <p style="color: var(--text-muted);">أهلاً بعودتك، تابع إدارة عملك</p>
            </div>

            <% if (locals.error) { %>
                <div
                    style="background: rgba(255, 0, 0, 0.1); color: #d32f2f; padding: 12px; border-radius: 8px; margin-bottom: 20px; text-align: center; border: 1px solid rgba(255, 0, 0, 0.2);">
                    <i class="fas fa-exclamation-circle"></i>
                    <%= error %>
                </div>
                <% } %>

                    <form action="/login" method="POST">
                        <div class="form-group">
                            <label class="form-label">رقم الهاتف أو الإيميل</label>
                            <input type="text" name="identifier" required class="form-control"
                                placeholder="أدخل بياناتك هنا">
                        </div>

                        <div class="form-group">
                            <label class="form-label">كلمة المرور</label>
                            <input type="password" name="password" required class="form-control" placeholder="••••••••">
                        </div>

                        <button type="submit" class="btn" style="width: 100%;">دخول</button>
                    </form>

                    <div class="text-center" style="margin-top: 25px;">
                        <p style="color: var(--text-muted);">ليس لديك حساب؟ <a href="/register" class="text-primary"
                                style="font-weight: bold;">إنشاء حساب جديد</a></p>
                    </div>
        </div>

        <script>
            // Check local storage or system preference to apply theme
            const currentTheme = localStorage.getItem('theme');
            if (currentTheme) {
                document.documentElement.setAttribute('data-theme', currentTheme);
            }
        </script>
    </body>

</html>