{
  "meta": {
    "project": "Islamic Reminder & WhatsApp Integration System",
    "date": "2026-01-14",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "This system provides a comprehensive Islamic reminder service integrated with WhatsApp messaging. It allows users to manage sessions, receive personalized Islamic reminders (like Adhkar, Quran, and fasting schedules), and access Islamic content including Hadith. Admins can manage users, subscriptions, and system settings. The system supports authentication, payment processing, and audit logging.",
  "core_goals": [
    "Enable users to create and manage personalized Islamic reminder schedules based on location and preferences.",
    "Integrate WhatsApp for session management and sending/receiving messages using Baileys.",
    "Provide a rich set of Islamic content including Adhkar, Hadith, and media for user engagement.",
    "Facilitate secure user authentication and subscription management with payment options.",
    "Offer admin tools for managing users, plans, system configurations, and auditing activities."
  ],
  "key_features": [
    "User authentication with JWT and cookies for secure login and session management.",
    "Admin dashboard for user, subscription, and system settings management.",
    "WhatsApp session management including QR code connection and message handling via Baileys library.",
    "Scheduling and delivery of Islamic reminders such as Adhkar of morning/evening, fasting schedules, and prayer times.",
    "Content management services providing access to Hadith, Islamic videos, background content, and other media.",
    "Subscription plans and payment processing system.",
    "Audit logging for system activity tracking.",
    "User settings management including location, reminder preferences, and manual or automatic adjustments."
  ],
  "user_flow_summary": [
    "User registers and logs in to the system via secure authentication.",
    "User adds a WhatsApp session by scanning QR code to link account.",
    "User sets location either manually by selecting country or automatically.",
    "User configures Islamic reminders schedules including morning/evening Adhkar, fasting schedules, and custom reminders.",
    "System sends reminders to user via WhatsApp based on schedule and preferences.",
    "Admin monitors users, plans, and settings through the admin dashboard.",
    "Payments for subscription plans are processed securely through integrated payment services.",
    "System logs all relevant activities for audits and troubleshooting."
  ],
  "validation_criteria": [
    "Successful user registration, login, and session management verified by JWT and cookie functionality.",
    "Reliable WhatsApp session establishment and message exchange using Baileys.",
    "Accurate scheduling and timely sending of Islamic reminders per user configuration.",
    "Admin dashboard correctly reflects user and system data and allows updates.",
    "Subscription plans and payment processes complete successfully with error handling.",
    "Content services return and update Hadith, media, and background content as expected.",
    "Audit logs capture system activities comprehensively.",
    "User settings changes persist and reflect correctly in reminder schedules and message delivery."
  ],
  "code_summary": {
    "tech_stack": [
      "Node.js",
      "Express",
      "SQLite",
      "EJS",
      "Baileys",
      "Socket.io",
      "Docker"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User login, registration, and session management using JWT and cookies.",
        "files": [
          "src/routes/auth.js",
          "src/services/auth.js",
          "src/middleware/auth.js"
        ]
      },
      {
        "name": "Admin Dashboard",
        "description": "Admin interface for managing users, subscriptions, and system settings.",
        "files": [
          "src/routes/admin.js"
        ]
      },
      {
        "name": "WhatsApp Integration",
        "description": "WhatsApp session management (QR code, connection) and message sending/receiving using Baileys library.",
        "files": [
          "src/routes/whatsapp.js",
          "src/services/baileys/SessionManager.js"
        ]
      },
      {
        "name": "Islamic Reminders",
        "description": "Scheduling and sending Islamic reminders (Adhkar, Quran, Fasting) based on user configurations.",
        "files": [
          "src/routes/islamic-reminders.js",
          "src/services/SchedulerService.js",
          "src/services/IslamicRemindersService.js",
          "src/services/AdhkarService.js",
          "src/services/FastingService.js",
          "src/services/PrayerTimesService.js"
        ]
      },
      {
        "name": "Content Management",
        "description": "Services for managing external content, hadith, and media.",
        "files": [
          "src/services/ContentService.js",
          "src/services/HadithService.js",
          "src/services/ExternalContentService.js",
          "src/services/IslamicBackgroundService.js",
          "src/services/IslamicVideoService.js"
        ]
      },
      {
        "name": "Payment & Plans",
        "description": "Subscription plans and payment handling.",
        "files": [
          "src/routes/payment.js",
          "src/services/plans.js",
          "src/services/PaymentService.js"
        ]
      },
      {
        "name": "Audit Logging",
        "description": "Logging system activities.",
        "files": [
          "src/services/AuditService.js"
        ]
      },
      {
        "name": "Settings",
        "description": "Application settings management.",
        "files": [
          "src/services/settings.js"
        ]
      }
    ]
  }
}
